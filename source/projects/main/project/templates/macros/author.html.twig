{% macro single(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|t(locales) }} {{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}
    {% endif %}
{% endmacro %}

{% macro all(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|t(locales) }} {{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}
    {% elseif authors|length > 1 %}
        {{ 'by'|t(locales) }} {{ 'Multiple authors'|t(locales) }}
    {% endif %}
{% endmacro %}

{% macro long(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|t(locales) }} {{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}
    {% elseif authors|length > 1 %}
        {{ 'by'|t(locales) }}
        {% for author in authors %}
            {% if not loop.first and not loop.last %}
                ,
            {% elseif not loop.first and loop.last %}
                {{ 'and'|t(locales) }}
            {% endif %}

            {{ '%s %s'|format(author.givenName, author.familyName) }}
        {% endfor %}
    {% endif %}
{% endmacro %}

{% macro job(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|t(locales) }} {{ authors|first.givenName ~ ' ' ~ authors|first.familyName|default(authors|first.givenName ~ ' ' ~ authors|first.familyName) ~ ' - ' ~ authors|first.jobTitle }}
    {% elseif authors|length > 1 %}
        {{ 'by'|t(locales) }}
        {% for author in authors %}
            {% if not loop.first and not loop.last %}
                ,
            {% elseif not loop.first and loop.last %}
                {{ 'and'|t(locales) }}
            {% endif %}
            {{ '%s %s - %s'|format(author.givenName, author.familyName, author.jobTitle) }}
        {% endfor %}
    {% endif %}
{% endmacro %}
