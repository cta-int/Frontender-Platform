{% macro single(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr', 'es-ES': 'es', 'pt-PT': 'pt'} %}

    {% if(authors|length) %}
        {{ 'by'|i18n }} {{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}
    {% endif %}
{% endmacro %}

{% macro all(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr', 'es-ES': 'es', 'pt-PT': 'pt'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|i18n }} {{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}
    {% elseif authors|length > 1 %}
        {{ 'by'|i18n }} {{ 'Multiple authors'|t(locales) }}
    {% endif %}
{% endmacro %}

{% macro long(authors, prefix = true) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr', 'es-ES': 'es', 'pt-PT': 'pt'} %}

    {% if(authors|length == 1) %}
        {{ prefix ? 'by'|i18n ~ ' ' : '' }}<span itemprop="author" itemtype="{{ authors|first|getSchema('context') }}/{{ authors|first|getSchema('type') }}">{{ '%s %s'|format(authors|first.givenName, authors|first.familyName) }}</span>
    {% elseif authors|length > 1 %}
        {{ prefix ? 'by'|i18n ~ ' ' : '' }}
        {% for author in authors %}
            {% if not loop.first and not loop.last %}
                ,
            {% elseif not loop.first and loop.last %}
                {{ 'and'|i18n }}
            {% endif %}

            <span itemprop="author" itemtype="{{ author|getSchema('context') }}/{{ author|getSchema('type') }}">{{ '%s %s'|format(author.givenName, author.familyName) }}</span>
        {% endfor %}
    {% endif %}
{% endmacro %}

{% macro job(authors) %}
    {% set locales = {'en-GB': 'en', 'fr-FR': 'fr', 'es-ES': 'es', 'pt-PT': 'pt'} %}

    {% if(authors|length == 1) %}
        {{ 'by'|i18n }} {{ authors|first.givenName ~ ' ' ~ authors|first.familyName|default(authors|first.givenName ~ ' ' ~ authors|first.familyName) ~ ' - ' ~ authors|first.jobTitle }}
    {% elseif authors|length > 1 %}
        {{ 'by'|i18n }}
        {% for author in authors %}
            {% if not loop.first and not loop.last %}
                ,
            {% elseif not loop.first and loop.last %}
                {{ 'and'|i18n }}
            {% endif %}
            {{ '%s %s - %s'|format(author.givenName, author.familyName, author.jobTitle) }}
        {% endfor %}
    {% endif %}
{% endmacro %}
